<!DOCTYPE html>
<html>
    <head>
        <title>Courses Information</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta author="Group 7">
        <link rel="stylesheet" href="allstyles.css">
    </head>
    <body class="addcou">
        <p class="actitle">BRAC-HYPEN</p>
        <h1>Add Your Courses</h1>
        <div id="courseContainer">
            <input type="text" name="courses[]" placeholder="Enter Course Code" class="course-input" required>
            </div>
            <button type="button" class="add-btn" onclick="addCourseInput()">+ Add Course</button>
            <h2>Actions</h2>
            <button class="action-btn" onclick="sendRequest('skills')">Content</button>
            <button class="action-btn" onclick="sendRequest('recommend')">Recommendation</button>
            <button class="action-btn" onclick="sendRequest('unlock')">Unlock Courses</button>
        <div id="result">Click a button to see results here</div>
        <script>
        function addCourseInput() {
            const container = document.getElementById("courseContainer");
            const input = document.createElement("input");
            input.type = "text";
            input.name = "courses[]";
            input.placeholder = "Enter Course Code";
            input.className = "course-input";
            input.required = true;
            container.appendChild(input);
            }
        function sendRequest(action) {
            const formData = new FormData();
            document.querySelectorAll('.course-input').forEach(input => {
                const val = input.value.trim().toUpperCase();
                if(val !== '') {
                    formData.append('courses[]', val);
                        }
                    });
        formData.append('action', action);
        if(!formData.getAll('courses[]').length) {
            document.getElementById('result').innerHTML = 'Please enter at least one valid course.';
        return;
        }
        fetch('recommend.php', { method: 'POST', body: formData })
            .then(res => res.text())
            .then(data => document.getElementById('result').innerHTML = data)
            .catch(err => document.getElementById('result').innerHTML = 'Error: ' + err);
        }
        </script>
    </body>
</html>



